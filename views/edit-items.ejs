<%- include("partials/part-header") %>
<body>
	<section class="new-logo">
		<div>
			<h1>Neon Creatives</h1>
			<em>. . . Creativity at it's peak</em>
		</div>
	</section>
	<%if(bagToEdit && !shoeToEdit){%>
	<section class="new">
		<div class="form new-bag">
			<h3>Edit Bag item here</h3>
				<form action="/bag/<%=bagToEdit._id%>?_method=PUT" method="POST" enctype="multipart/form-data">
					<p>
						<input type="text" value="<%=bagToEdit.name%>" name="name" placeholder="Name of Bag here...">
					</p>
					<p>
						<label>Bag Image Here</label>
						<img class="input" src="data:image/<%=bagToEdit.img.contentType%>;base64,<%=bagToEdit.img.data.toString('base64')%>" height="200px" width="200px" alt="Your Image preview will show here">
					</p>
					<p>
						<input type="number" value="<%=bagToEdit.price%>" name="price" placeholder="Price of bag here...">
					</p>
					<p>
						<input type="text" value='<%=bagToEdit.description%>' name='description' placeholder='Description'>
					</p>
					<p>
						<input type="submit" name="">
					</p>
				</form>
			</div>
	</section>
	<%}else if(!bagToEdit && shoeToEdit){%>
	<section class="new">
		<div class="form new-shoe">
			<h3>Edit shoe item here</h3>
			<form action="/shoe/<%=shoeToEdit._id%>?_method=PUT" method="POST" enctype="multipart/form-data">
				<p>
					<input type="text" name="name" value='<%=shoeToEdit.name%>' placeholder="Name of Bag here...">
				</p>
				<p>
					<label>Shoe image here</label>
					<img class="input" src="data:shoe/<%=shoeToEdit.img.contentType%>;base64,<%=shoeToEdit.img.data.toString('base64')%>" height="200px" width="200px" alt="Your Image preview will show here">
				</p>
				<p>
					<input type="number" value='<%=shoeToEdit.price%>' name="price" placeholder="Price of bag here...">
				</p>
				<p>
					<input type="text" value='<%=shoeToEdit.description%>' name='description' placeholder='Description'>
				</p>
				<p>
					<input type="submit" name="">
				</p>
			</form>
		</div>
	</section>
	<%}%>
	<!-- <script>
		const forms = document.querySelectorAll('.form');
		forms.forEach((form) => {
			const fileSelector = form.querySelector('.image');
			const imgInput = form.querySelector('img.input');
			fileSelector.addEventListener('change', (e) => {
			let fileList = e.target.files;
			let file = fileList[0];
			function readImage (file){
			if (file.type && !file.type.startsWith('image/')) {
    		console.log('File is not an image.', file.type, file);
    		return;
  			}else {
				   const reader = new FileReader();
					reader.addEventListener('load', (event) => {
					imgInput.src = event.target.result;
					});
					reader.readAsDataURL(file);
			  }
			}
			readImage(file);
			})
		})
	</script> -->
</body>